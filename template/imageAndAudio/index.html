<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Image & Audio Page</title>
	{% include "abovelinks.html" %}
	<link rel="stylesheet" href='/public/css/style.css'>
	<link rel="stylesheet" href='/public/css/multi.css'>
</head>

<body>

    {% include "header.html" %}

	{% if value is defined %}
    	<h1>Encode Text With Image And Audio</h1>
	{% endif %}

    <form method="POST" enctype="multipart/form-data" action="/imageAndAudio" class="container">

		{% if value is defined %}
			{% if value == "encode" %}
			<div class="multiple-input">
				<div class="form-group">
					<label for="firstname">Enter Text To Encode In Image :</label>
					<input id="firstname" type="text" required class="form-control" name="inputTextImage">
				</div>
				<div class="form-group">
					<label for="firstname">Enter Text To Encode In Audio :</label>
					<input id="firstname" type="text" required class="form-control" name="inputTextAudio">
				</div>
			</div>
			{% endif %}
		{% endif %}

		{% if value == "encode" or value == "decode" %}
		<div class="multiple-input">
			<div class="form-group input-image-audio">
				<div class="alignment">
					{% if value == "encode" %}
						<p>Select Your Image File To Encode</p>
					{% else %}
						<p>Select Your Image File To Decode</p>	
					{% endif %}
					<i class="fa-solid fa-image"></i>
					<input required type="file" accept="image/*" name="uploadedImage">
				</div>
			</div>
			<div class="form-group input-image-audio">
				<div class="alignment">
					{% if value == "encode" %}
						<p>Select Your Image File To Encode</p>
					{% else %}
						<p>Select Your Image File To Decode</p>	
					{% endif %}
					<i class="fa-solid fa-music"></i>
					<input required type="file" accept=".wav" name="uploadedAudio">
				</div>
			</div>
		</div>
		{% endif %}

		{% if value is defined %}
			{% if value == "encode" %}
				<input type="submit" name="action" value="Encode" class="submit">
			{% endif %}
			{% if value == "decode" %}
				<input type="submit" name="action" value="Decode" class="submit">
			{% endif %}
		{% endif %}

	</form>
	
	{% if encoded is defined %}
		<div class="download">
			<h1>Your Image File Is Encoded Successfully</h1>
			<p><a href="#" onclick="downloadFile('{{ imagefilename }}')">Download Encoded Image</a></p>
		</div>
		<div class="download">
			<h1>Your Audio File Is Encoded Successfully</h1>
			<p><a href="#" onclick="downloadFile('{{ audiofilename }}')">Download Encoded Audio</a></p>
		</div>
	{% endif %}

	{% if decoded is defined %}
		<div class="decoded-msg">
			<h1>The decoded Message is : </h1>
			<p>{{ decodedMsg }}</p>
		</div>
	{% endif %}
	

    <script src="/public/js/script.js"></script> 
	{% include "belowlinks.html" %}

  </body>
</html>